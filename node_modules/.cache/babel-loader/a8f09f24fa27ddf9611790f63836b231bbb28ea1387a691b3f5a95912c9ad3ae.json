{"ast":null,"code":"import useKeypress from'react-use-keypress';import React,{useEffect,useState}from'react';import PC from'./PC.tsx';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Pokeroom(_ref){let{handleClose}=_ref;const height=600;const width=600;const playerWidth=48;const playerHeight=60;const[playerHistory,setPlayerHistory]=useState([['left',[252,140]],['left',[264,140]]].reverse());const[openPC,setOpenPC]=useState(false);const[stepping,setStepping]=useState(false);const[companionPosition,setCompanionPosition]=useState([260,140]);const[playerPosition,setPlayerPosition]=useState([220,140]);const[playerFacing,setPlayerFacing]=useState('down');const[companionFacing,setCompanionFacing]=useState('down');useEffect(()=>{setPlayerHistory(playerHistory.concat([[playerFacing,playerPosition]]));},[playerPosition]);useEffect(()=>{if(playerPosition[1]<-110){handleClose();}if(playerHistory.length%3===0){setStepping(true);}else{setStepping(false);}},[playerPosition]);useKeypress(['ArrowLeft','ArrowRight','ArrowUp','ArrowDown'],event=>{switch(event.key){case'ArrowLeft':if(playerFacing!=='left')setPlayerFacing('left');if(playerPosition[1]<=-15)if(playerPosition[0]>300&&playerPosition[0]<450){setOpenPC(true);break;}if(playerPosition[0]-12>=-15)setPlayerPosition([playerPosition[0]-12,playerPosition[1]]);break;case'ArrowRight':if(playerFacing!=='right')setPlayerFacing('right');// bump into desk\nif(playerPosition[1]<=-15)if(playerPosition[0]>283&&playerPosition[0]<400){setOpenPC(true);break;}if(playerPosition[0]+12<=width-playerWidth)setPlayerPosition([playerPosition[0]+12,playerPosition[1]]);break;case'ArrowUp':if(playerFacing!=='up')setPlayerFacing('up');// desk\nif(playerPosition[0]>290&&playerPosition[0]<440){if(playerPosition[1]<0){setOpenPC(true);break;}// go through door if it's there...\n}if(playerPosition[0]>35&&playerPosition[0]<150-playerWidth){//if ((playerPosition[1]) > 0)\nsetPlayerPosition([playerPosition[0],playerPosition[1]-12]);}else if(playerPosition[1]>-50)setPlayerPosition([playerPosition[0],playerPosition[1]-12]);// get blocked by desk...\nbreak;case'ArrowDown':if(playerFacing!=='down')setPlayerFacing('down');if(playerPosition[1]+12<=height-playerHeight)setPlayerPosition([playerPosition[0],playerPosition[1]+12]);break;}if(playerHistory.length>=5){if(playerHistory.length===7){setCompanionFacing(playerHistory.slice(-4)[0][0]);}else{setCompanionFacing(playerHistory.slice(-5)[0][0]);}setCompanionPosition(playerHistory.slice(-5)[0][1]);}});if(openPC){return/*#__PURE__*/_jsx(PC,{handleClose:()=>setOpenPC(false)});}return/*#__PURE__*/_jsx(\"div\",{id:\"page\",style:{display:'flex',alignItems:'center',justifyContent:'center',height:'100%'},children:/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',border:\"10px solid black\",height:\"\".concat(height,\"px\"),width:\"\".concat(width,\"px\"),backgroundColor:'beige'},id:\"screen\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"player\",style:{zIndex:100000,position:\"relative\",left:\"\".concat(playerPosition[0],\"px\"),top:\"\".concat(playerPosition[1],\"px\"),width:'78px',height:'85px'},src:!stepping?\"\".concat(playerFacing,\"_still.png\"):\"\".concat(playerFacing,\"_step.png\")}),/*#__PURE__*/_jsx(\"img\",{style:{zIndex:10001,position:\"relative\",left:\"\".concat(companionPosition[0]-72,\"px\"),top:\"\".concat(companionPosition[1]-4,\"px\"),width:'68px',height:'68px'},src:\"companion_\".concat(companionFacing,\".png\")}),/*#__PURE__*/_jsx(\"img\",{style:{position:\"relative\",left:\"200px\",top:\"-45px\",width:'120px'},src:\"desk.png\"}),/*#__PURE__*/_jsx(\"img\",{id:\"big-bed\",style:{position:\"relative\",left:\"-240px\",top:\"380px\",width:'180px'},src:\"bed.png\"})]})});}export default Pokeroom;","map":{"version":3,"names":["useKeypress","React","useEffect","useState","PC","jsx","_jsx","jsxs","_jsxs","Pokeroom","_ref","handleClose","height","width","playerWidth","playerHeight","playerHistory","setPlayerHistory","reverse","openPC","setOpenPC","stepping","setStepping","companionPosition","setCompanionPosition","playerPosition","setPlayerPosition","playerFacing","setPlayerFacing","companionFacing","setCompanionFacing","concat","length","event","key","slice","id","style","display","alignItems","justifyContent","children","position","border","backgroundColor","zIndex","left","top","src"],"sources":["/Users/eliana/Documents/Code/homepage/src/pokeroom.tsx"],"sourcesContent":["import useKeypress from 'react-use-keypress';\nimport React, { useEffect, useState } from 'react';\nimport PC from './PC.tsx'\nimport './App.css'\n\nfunction Pokeroom({handleClose}) {\n  const height = 600;\n  const width = 600;\n  const playerWidth = 48;\n  const playerHeight = 60;\n  const [playerHistory, setPlayerHistory]: any = useState([['left', [252, 140]], ['left', [264, 140]]].reverse());\n\n  const [openPC, setOpenPC] = useState(false)\n  const [stepping, setStepping] = useState(false)\n  const [companionPosition, setCompanionPosition] = useState([260, 140]);\n  const [playerPosition, setPlayerPosition] = useState([220, 140]);\n  const [playerFacing, setPlayerFacing] = useState('down')\n  const [companionFacing, setCompanionFacing] = useState('down')\n\n  useEffect(()=>{\n    setPlayerHistory(playerHistory.concat([[playerFacing, playerPosition]]))\n  }, [playerPosition])\n\n  useEffect(()=>{\n    if (playerPosition[1] < -110) {\n      handleClose()\n    }\n    if (playerHistory.length % 3 === 0) {\n      setStepping(true);\n    } else {\n      setStepping(false);\n    }\n  }, [playerPosition])\n\n  useKeypress(['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'], (event) => {\n    switch (event.key) {\n      case 'ArrowLeft':\n        if (playerFacing !== 'left')\n            setPlayerFacing('left')\n        if (playerPosition[1] <= -15)\n          if (playerPosition[0] > 300 && playerPosition[0] < 450) {\n            setOpenPC(true)\n            break\n          }\n\n        if ((playerPosition[0]-12) >= -15)\n          setPlayerPosition([playerPosition[0]-12, playerPosition[1]]);\n        break;\n      case 'ArrowRight':\n        if (playerFacing !== 'right')\n          setPlayerFacing('right')\n        // bump into desk\n        if (playerPosition[1] <= -15)\n          if (playerPosition[0] > 283 && playerPosition[0] < 400) {\n            setOpenPC(true)\n            break\n          }\n        if ((playerPosition[0]+12) <= (width - playerWidth))\n        setPlayerPosition([playerPosition[0]+12, playerPosition[1]]);\n        break;\n      case 'ArrowUp':\n        if (playerFacing !== 'up')\n          setPlayerFacing('up')\n        // desk\n        if (playerPosition[0] > 290 && playerPosition[0] < 440) {\n          if (playerPosition[1] < 0) {\n            setOpenPC(true)\n            break\n          }\n        // go through door if it's there...\n        } \n        if (playerPosition[0] > 35 && playerPosition[0] < 150 - playerWidth) {\n          //if ((playerPosition[1]) > 0)\n            setPlayerPosition([playerPosition[0], playerPosition[1]-12]);\n        } else if ((playerPosition[1]) > -50)\n        setPlayerPosition([playerPosition[0], playerPosition[1]-12]);\n        // get blocked by desk...\n        break;\n      case 'ArrowDown':\n        if (playerFacing !== 'down')\n          setPlayerFacing('down')\n        if ((playerPosition[1]+12) <= (height - playerHeight))\n        setPlayerPosition([playerPosition[0], playerPosition[1]+12]);\n        break;\n    }\n\n    if (playerHistory.length >= 5) {\n      if (playerHistory.length === 7) {\n        setCompanionFacing(playerHistory.slice(-4)[0][0])\n      } else {\n        setCompanionFacing(playerHistory.slice(-5)[0][0])\n      }\n      setCompanionPosition(playerHistory.slice(-5)[0][1])\n    }\n  });\n  \n  if (openPC) {\n    return <PC handleClose={()=>setOpenPC(false)} />\n  }\n\n  return (\n    <div id=\"page\" style={{\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: '100%'\n    }}>\n      <div style={{     \n        position: 'relative', \n        border:\"10px solid black\",\n        height: `${height}px`,\n        width: `${width}px`,\n        backgroundColor: 'beige'\n      }} id=\"screen\">\n        <img \n          id=\"player\"\n          style={{\n            zIndex: 100000,\n            position: \"relative\",\n            left: `${playerPosition[0]}px`,\n            top: `${playerPosition[1]}px`,\n            width: '78px',\n            height: '85px'\n          }} src={\n            (!stepping) \n            ? `${playerFacing}_still.png` \n            : `${playerFacing}_step.png`}>\n        </img>\n        <img style={{\n          zIndex: 10001,\n          position: \"relative\",\n          left: `${companionPosition[0]-72}px`,\n          top: `${companionPosition[1]-4}px`,\n          width: '68px',\n          height: '68px'\n        }} src={`companion_${companionFacing}.png`}>\n        </img>\n        <img style={{\n          position: \"relative\",\n          left: `200px`,\n          top: `-45px`,\n          width: '120px',\n        }} src={`desk.png`}></img>\n        <img id=\"big-bed\" style={{\n          position: \"relative\",\n          left: `-240px`,\n          top: `380px`,\n          width: '180px',\n        }} src={`bed.png`}></img>\n      </div>\n    </div>\n\n  );\n}\n\nexport default Pokeroom;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}