{"ast":null,"code":"import React__default, { forwardRef, useCallback } from 'react';\nimport styled, { css } from 'styled-components';\nimport { Button } from '../Button/Button.mjs';\nimport useControlledOrUncontrolled from '../common/hooks/useControlledOrUncontrolled.mjs';\nimport { blockSizes } from '../common/system.mjs';\nimport { clamp, getSize } from '../common/utils/index.mjs';\nimport { TextInput } from '../TextInput/TextInput.mjs';\nconst StyledNumberInputWrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n`;\nconst StyledButton = styled(Button)`\n  width: 30px;\n  padding: 0;\n  flex-shrink: 0;\n\n  ${({\n  variant\n}) => variant === \"flat\" ? css`\n          height: calc(50% - 1px);\n        ` : css`\n          height: 50%;\n        `}\n`;\nconst StyledButtonWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n\n  ${({\n  variant\n}) => variant === \"flat\" ? css`\n          height: calc(${blockSizes.md} - 4px);\n        ` : css`\n          height: ${blockSizes.md};\n          margin-left: 2px;\n        `}\n`;\nconst StyledButtonIcon = styled.span`\n  width: 0px;\n  height: 0px;\n  display: inline-block;\n  ${({\n  invert\n}) => invert ? css`\n          border-left: 4px solid transparent;\n          border-right: 4px solid transparent;\n          border-bottom: 4px solid ${({\n  theme\n}) => theme.materialText};\n        ` : css`\n          border-left: 4px solid transparent;\n          border-right: 4px solid transparent;\n          border-top: 4px solid ${({\n  theme\n}) => theme.materialText};\n        `}\n  ${StyledButton}:disabled & {\n    filter: drop-shadow(\n      1px 1px 0px ${({\n  theme\n}) => theme.materialTextDisabledShadow}\n    );\n    ${({\n  invert\n}) => invert ? css`\n            border-bottom-color: ${({\n  theme\n}) => theme.materialTextDisabled};\n          ` : css`\n            border-top-color: ${({\n  theme\n}) => theme.materialTextDisabled};\n          `}\n  }\n`;\nconst NumberInput = forwardRef(({\n  className,\n  defaultValue,\n  disabled = false,\n  max,\n  min,\n  onChange,\n  readOnly,\n  step = 1,\n  style,\n  value,\n  variant = \"default\",\n  width,\n  ...otherProps\n}, ref) => {\n  const [valueDerived, setValueState] = useControlledOrUncontrolled({\n    defaultValue,\n    onChange,\n    readOnly,\n    value\n  });\n  const handleInputChange = useCallback(e => {\n    const newValue = parseFloat(e.target.value);\n    setValueState(newValue);\n  }, [setValueState]);\n  const handleClick = useCallback(delta => {\n    const newValue = clamp(parseFloat(((valueDerived !== null && valueDerived !== void 0 ? valueDerived : 0) + delta).toFixed(2)), min !== null && min !== void 0 ? min : null, max !== null && max !== void 0 ? max : null);\n    setValueState(newValue);\n    onChange === null || onChange === void 0 ? void 0 : onChange(newValue);\n  }, [max, min, onChange, setValueState, valueDerived]);\n  const onBlur = useCallback(() => {\n    if (valueDerived !== void 0) {\n      onChange === null || onChange === void 0 ? void 0 : onChange(valueDerived);\n    }\n  }, [onChange, valueDerived]);\n  const stepUp = useCallback(() => {\n    handleClick(step);\n  }, [handleClick, step]);\n  const stepDown = useCallback(() => {\n    handleClick(-step);\n  }, [handleClick, step]);\n  const buttonVariant = variant === \"flat\" ? \"flat\" : \"raised\";\n  return React__default.createElement(StyledNumberInputWrapper, {\n    className,\n    style: {\n      ...style,\n      width: width !== void 0 ? getSize(width) : \"auto\"\n    },\n    ...otherProps\n  }, React__default.createElement(TextInput, {\n    value: valueDerived,\n    variant,\n    onChange: handleInputChange,\n    disabled,\n    type: \"number\",\n    readOnly,\n    ref,\n    fullWidth: true,\n    onBlur\n  }), React__default.createElement(StyledButtonWrapper, {\n    variant\n  }, React__default.createElement(StyledButton, {\n    \"data-testid\": \"increment\",\n    variant: buttonVariant,\n    disabled: disabled || readOnly,\n    onClick: stepUp\n  }, React__default.createElement(StyledButtonIcon, {\n    invert: true\n  })), React__default.createElement(StyledButton, {\n    \"data-testid\": \"decrement\",\n    variant: buttonVariant,\n    disabled: disabled || readOnly,\n    onClick: stepDown\n  }, React__default.createElement(StyledButtonIcon, null))));\n});\nNumberInput.displayName = \"NumberInput\";\nexport { NumberInput };","map":{"version":3,"names":["React__default","forwardRef","useCallback","styled","css","Button","useControlledOrUncontrolled","blockSizes","clamp","getSize","TextInput","StyledNumberInputWrapper","div","StyledButton","variant","StyledButtonWrapper","md","StyledButtonIcon","span","invert","theme","materialText","materialTextDisabledShadow","materialTextDisabled","NumberInput","className","defaultValue","disabled","max","min","onChange","readOnly","step","style","value","width","otherProps","ref","valueDerived","setValueState","handleInputChange","e","newValue","parseFloat","target","handleClick","delta","toFixed","onBlur","stepUp","stepDown","buttonVariant","createElement","type","fullWidth","onClick","displayName"],"sources":["/Users/danielbednarski/darighost.github.io/node_modules/react95/dist/NumberInput/NumberInput.mjs"],"sourcesContent":["import React__default, { forwardRef, useCallback } from 'react';\nimport styled, { css } from 'styled-components';\nimport { Button } from '../Button/Button.mjs';\nimport useControlledOrUncontrolled from '../common/hooks/useControlledOrUncontrolled.mjs';\nimport { blockSizes } from '../common/system.mjs';\nimport { clamp, getSize } from '../common/utils/index.mjs';\nimport { TextInput } from '../TextInput/TextInput.mjs';\n\nconst StyledNumberInputWrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n`;\nconst StyledButton = styled(Button)`\n  width: 30px;\n  padding: 0;\n  flex-shrink: 0;\n\n  ${({ variant }) => variant === \"flat\" ? css`\n          height: calc(50% - 1px);\n        ` : css`\n          height: 50%;\n        `}\n`;\nconst StyledButtonWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n\n  ${({ variant }) => variant === \"flat\" ? css`\n          height: calc(${blockSizes.md} - 4px);\n        ` : css`\n          height: ${blockSizes.md};\n          margin-left: 2px;\n        `}\n`;\nconst StyledButtonIcon = styled.span`\n  width: 0px;\n  height: 0px;\n  display: inline-block;\n  ${({ invert }) => invert ? css`\n          border-left: 4px solid transparent;\n          border-right: 4px solid transparent;\n          border-bottom: 4px solid ${({ theme }) => theme.materialText};\n        ` : css`\n          border-left: 4px solid transparent;\n          border-right: 4px solid transparent;\n          border-top: 4px solid ${({ theme }) => theme.materialText};\n        `}\n  ${StyledButton}:disabled & {\n    filter: drop-shadow(\n      1px 1px 0px ${({ theme }) => theme.materialTextDisabledShadow}\n    );\n    ${({ invert }) => invert ? css`\n            border-bottom-color: ${({ theme }) => theme.materialTextDisabled};\n          ` : css`\n            border-top-color: ${({ theme }) => theme.materialTextDisabled};\n          `}\n  }\n`;\nconst NumberInput = forwardRef(({ className, defaultValue, disabled = false, max, min, onChange, readOnly, step = 1, style, value, variant = \"default\", width, ...otherProps }, ref) => {\n  const [valueDerived, setValueState] = useControlledOrUncontrolled({\n    defaultValue,\n    onChange,\n    readOnly,\n    value\n  });\n  const handleInputChange = useCallback((e) => {\n    const newValue = parseFloat(e.target.value);\n    setValueState(newValue);\n  }, [setValueState]);\n  const handleClick = useCallback((delta) => {\n    const newValue = clamp(parseFloat(((valueDerived !== null && valueDerived !== void 0 ? valueDerived : 0) + delta).toFixed(2)), min !== null && min !== void 0 ? min : null, max !== null && max !== void 0 ? max : null);\n    setValueState(newValue);\n    onChange === null || onChange === void 0 ? void 0 : onChange(newValue);\n  }, [max, min, onChange, setValueState, valueDerived]);\n  const onBlur = useCallback(() => {\n    if (valueDerived !== void 0) {\n      onChange === null || onChange === void 0 ? void 0 : onChange(valueDerived);\n    }\n  }, [onChange, valueDerived]);\n  const stepUp = useCallback(() => {\n    handleClick(step);\n  }, [handleClick, step]);\n  const stepDown = useCallback(() => {\n    handleClick(-step);\n  }, [handleClick, step]);\n  const buttonVariant = variant === \"flat\" ? \"flat\" : \"raised\";\n  return React__default.createElement(\n    StyledNumberInputWrapper,\n    { className, style: {\n      ...style,\n      width: width !== void 0 ? getSize(width) : \"auto\"\n    }, ...otherProps },\n    React__default.createElement(TextInput, { value: valueDerived, variant, onChange: handleInputChange, disabled, type: \"number\", readOnly, ref, fullWidth: true, onBlur }),\n    React__default.createElement(\n      StyledButtonWrapper,\n      { variant },\n      React__default.createElement(\n        StyledButton,\n        { \"data-testid\": \"increment\", variant: buttonVariant, disabled: disabled || readOnly, onClick: stepUp },\n        React__default.createElement(StyledButtonIcon, { invert: true })\n      ),\n      React__default.createElement(\n        StyledButton,\n        { \"data-testid\": \"decrement\", variant: buttonVariant, disabled: disabled || readOnly, onClick: stepDown },\n        React__default.createElement(StyledButtonIcon, null)\n      )\n    )\n  );\n});\nNumberInput.displayName = \"NumberInput\";\n\nexport { NumberInput };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}