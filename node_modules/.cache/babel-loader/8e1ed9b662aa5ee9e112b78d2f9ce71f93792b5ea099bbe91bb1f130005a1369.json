{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Button,Window,WindowContent,WindowHeader}from'react95';import{NapsterSelect}from'./NapsterSelect.tsx';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default(_ref=>{let{setShowNapster}=_ref;const[currentSong,setCurrentSong]=useState(null);const[audio,setAudio]=useState(null);useEffect(()=>{if(currentSong!==null){if(audio!==null){audio.pause();}const newAudio=new Audio(\"/\".concat(currentSong.file));newAudio.play();setAudio(newAudio);}else{if(audio!==null){audio.pause();}}},[currentSong]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Window,{style:{width:'500px'},className:\"window\",children:[/*#__PURE__*/_jsxs(WindowHeader,{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Napster - share tunes!\"}),/*#__PURE__*/_jsx(Button,{style:{marginTop:'2px'},onClick:()=>{if(audio!==null)audio.pause();setCurrentSong(null);setShowNapster(false);},children:/*#__PURE__*/_jsx(\"b\",{children:\"x\"})})]}),/*#__PURE__*/_jsxs(WindowContent,{children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Now playing:\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"marquee\",{style:{marginLeft:'5px',marginTop:'3px',width:'200px'},children:[currentSong===null||currentSong===void 0?void 0:currentSong.artist,\" \",currentSong?'-':'',\" \",currentSong===null||currentSong===void 0?void 0:currentSong.title]})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{})})]}),/*#__PURE__*/_jsx(NapsterSelect,{setCurrentSong:setCurrentSong})]})]})});});","map":{"version":3,"names":["React","useEffect","useState","Button","Window","WindowContent","WindowHeader","NapsterSelect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","_ref","setShowNapster","currentSong","setCurrentSong","audio","setAudio","pause","newAudio","Audio","concat","file","play","children","style","width","className","display","justifyContent","marginTop","onClick","marginLeft","artist","title"],"sources":["/Users/danielbednarski/darighost.github.io/src/Napster.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  Button,\n  Window,\n  WindowContent,\n  WindowHeader\n} from 'react95';\nimport { NapsterSelect } from './NapsterSelect.tsx';\n\n\nexport default ({setShowNapster}) => {\n  const [currentSong, setCurrentSong] = useState(null);\n  const [audio, setAudio] = useState(null)\n  useEffect(()=>{\n    if (currentSong !== null) {\n      if (audio !== null) {\n        audio.pause()\n      }\n      const newAudio = new Audio(`/${currentSong.file}`)\n      newAudio.play()\n      setAudio(newAudio)\n    } else {\n      if (audio !== null) {\n        audio.pause()\n      }\n    }\n  }, [currentSong])\n\n  return (\n    <>\n      <Window style={{width: '500px'}} className='window'>\n        <WindowHeader style={{\n          display: 'flex',\n          justifyContent: 'space-between'\n        }}>\n          <span>Napster - share tunes!</span>\n          <Button style={{marginTop: '2px'}} onClick={()=>{\n            if (audio !== null) audio.pause();\n            setCurrentSong(null);\n            setShowNapster(false)}}>\n            <b>x</b>\n          </Button>\n        </WindowHeader>\n        <WindowContent>\n          <table>\n            <tr>\n              <td>Now playing:</td>\n              <td><marquee style={{ marginLeft: '5px', marginTop: '3px', width: '200px' }}>{currentSong?.artist} {(currentSong) ? '-' : ''} {currentSong?.title}</marquee></td>\n            </tr>\n            <tr>\n              <td>\n                \n              </td>\n            </tr>\n          </table>\n          <NapsterSelect setCurrentSong={setCurrentSong} />\n        </WindowContent>\n      </Window>\n\n    </>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OACEC,MAAM,CACNC,MAAM,CACNC,aAAa,CACbC,YAAY,KACP,SAAS,CAChB,OAASC,aAAa,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAGpD,eAAeC,IAAA,EAAsB,IAArB,CAACC,cAAc,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CACxCD,SAAS,CAAC,IAAI,CACZ,GAAIe,WAAW,GAAK,IAAI,CAAE,CACxB,GAAIE,KAAK,GAAK,IAAI,CAAE,CAClBA,KAAK,CAACE,KAAK,CAAC,CAAC,CACf,CACA,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,KAAK,KAAAC,MAAA,CAAKP,WAAW,CAACQ,IAAI,CAAE,CAAC,CAClDH,QAAQ,CAACI,IAAI,CAAC,CAAC,CACfN,QAAQ,CAACE,QAAQ,CAAC,CACpB,CAAC,IAAM,CACL,GAAIH,KAAK,GAAK,IAAI,CAAE,CAClBA,KAAK,CAACE,KAAK,CAAC,CAAC,CACf,CACF,CACF,CAAC,CAAE,CAACJ,WAAW,CAAC,CAAC,CAEjB,mBACEP,IAAA,CAAAI,SAAA,EAAAa,QAAA,cACEf,KAAA,CAACP,MAAM,EAACuB,KAAK,CAAE,CAACC,KAAK,CAAE,OAAO,CAAE,CAACC,SAAS,CAAC,QAAQ,CAAAH,QAAA,eACjDf,KAAA,CAACL,YAAY,EAACqB,KAAK,CAAE,CACnBG,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,eAClB,CAAE,CAAAL,QAAA,eACAjB,IAAA,SAAAiB,QAAA,CAAM,wBAAsB,CAAM,CAAC,cACnCjB,IAAA,CAACN,MAAM,EAACwB,KAAK,CAAE,CAACK,SAAS,CAAE,KAAK,CAAE,CAACC,OAAO,CAAEA,CAAA,GAAI,CAC9C,GAAIf,KAAK,GAAK,IAAI,CAAEA,KAAK,CAACE,KAAK,CAAC,CAAC,CACjCH,cAAc,CAAC,IAAI,CAAC,CACpBF,cAAc,CAAC,KAAK,CAAC,EAAE,CAAAW,QAAA,cACvBjB,IAAA,MAAAiB,QAAA,CAAG,GAAC,CAAG,CAAC,CACF,CAAC,EACG,CAAC,cACff,KAAA,CAACN,aAAa,EAAAqB,QAAA,eACZf,KAAA,UAAAe,QAAA,eACEf,KAAA,OAAAe,QAAA,eACEjB,IAAA,OAAAiB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBjB,IAAA,OAAAiB,QAAA,cAAIf,KAAA,YAASgB,KAAK,CAAE,CAAEO,UAAU,CAAE,KAAK,CAAEF,SAAS,CAAE,KAAK,CAAEJ,KAAK,CAAE,OAAQ,CAAE,CAAAF,QAAA,EAAEV,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEmB,MAAM,CAAC,GAAC,CAAEnB,WAAW,CAAI,GAAG,CAAG,EAAE,CAAC,GAAC,CAACA,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEoB,KAAK,EAAU,CAAC,CAAI,CAAC,EAC/J,CAAC,cACL3B,IAAA,OAAAiB,QAAA,cACEjB,IAAA,QAEI,CAAC,CACH,CAAC,EACA,CAAC,cACRA,IAAA,CAACF,aAAa,EAACU,cAAc,CAAEA,cAAe,CAAE,CAAC,EACpC,CAAC,EACV,CAAC,CAET,CAAC,CAEP,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}